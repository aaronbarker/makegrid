/*!
 * makeGrid
 * @description	Dynamically creates rows/cols for grids of images/blocks responsively
 * @version		1.1.3 - 2013/10/08
 * @author		Aaron Barker
 * @requires	ui.widget.js
 * @copyright	Copyright Intellectual Reserve Inc. All rights reserved.
 */
(function(a){"use strict";a.widget("lds.makeGrid",{options:{firstClass:"first",lastClass:"last",setupResize:function(b,c){a(window).on("resize orientationchange",function(){c.fit()})}},_create:function(){var a=this;if(document.all&&document.documentMode&&8===document.documentMode){a.options.isIE8=true}a._trigger("setupResize",0,a);a.fit()},fit:function(){var a=this.options,b=this.element,c=b.children(),d=a.firstClass,e=a.lastClass,f=b.data("cols")||a.maxCols,g=b.width(),h=c.eq(0),i=parseInt(h.css("margin-right"),10),j=parseInt(h.css("min-width"),10)||b.data("width")||150,k=Math.floor(g/(j+i)),l=b.offset().left+b.width(),m,n,o,p,q;c.removeClass(d+" "+e);if(k>f){k=f}if(b.data("fill")&&k>c.length){k=c.length}m=i*(k-1);n=g-m;o=Math.floor(n/k);p=Math.floor(o/g*1e10)/1e8;if(k==="1"){p="100%"}c.css("width",p+"%");if(k>1){c.filter(":nth-child("+k+"n)").addClass(e);c.filter(":nth-child("+k+"n-"+(k-1)+")").addClass(d)}q=c.eq(k-1);if(!a.isIE8){while(q.length&&l-(q.offset().left+q.outerWidth(true))>10){p=p-.015625;c.css("width",p+"%")}}}});a.extend(a.lds.makeGrid,{version:"1.1.3"})})(jQuery);